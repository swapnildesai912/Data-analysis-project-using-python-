{"cells":[{"cell_type":"code","source":["# Import required libraries\n","import pandas as pd\n","import dash\n","from dash import dcc, html\n","from dash.dependencies import Input, Output\n","import plotly.express as px\n","\n","# Read the SpaceX launch data into pandas dataframe\n","spacex_df = pd.read_csv('https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBM-DS0321EN-SkillsNetwork/datasets/spacex_launch_dash.csv')\n","\n","# Get min and max payload mass\n","min_payload = spacex_df['Payload Mass (kg)'].min()\n","max_payload = spacex_df['Payload Mass (kg)'].max()\n","\n","# Create a dash application\n","app = dash.Dash(__name__)\n","\n","# ---------------------------------------------------------\n","# TASK 1: Add a Launch Site Drop-down Input Component\n","# ---------------------------------------------------------\n","app.layout = html.Div(children=[\n","\n","    html.H1('SpaceX Launch Records Dashboard',\n","            style={'textAlign': 'center', 'color': '#503D36',\n","                   'font-size': 40}),\n","\n","    # Dropdown component\n","    dcc.Dropdown(\n","        id='site-dropdown',\n","        options=[\n","            {'label': 'All Sites', 'value': 'ALL'}\n","        ] + [{'label': site, 'value': site} for site in spacex_df['Launch Site'].unique()],\n","        value='ALL',\n","        placeholder=\"Select a Launch Site here\",\n","        searchable=True\n","    ),\n","\n","    html.Br(),\n","\n","    # ---------------------------------------------------------\n","    # TASK 2: Pie Chart\n","    # ---------------------------------------------------------\n","dcc.Graph(id='success-pie-chart'),\n","\n","    html.Br(),\n","\n","    # ---------------------------------------------------------\n","    # TASK 3: Range Slider for Payload\n","    # ---------------------------------------------------------\n","    html.P(\"Payload range (Kg):\"),\n","\n","dcc.RangeSlider(\n","        id='payload-slider',\n","        min=0,\n","        max=10000,\n","        step=1000,\n","        marks={i: str(i) for i in range(0, 10001, 2500)},\n","        value=[min_payload, max_payload]\n","    ),\n","\n","    # Scatter plot\n","dcc.Graph(id='success-payload-scatter-chart')\n","])\n","\n","# ---------------------------------------------------------\n","# TASK 2: Add callback for pie chart\n","# ---------------------------------------------------------\n","@app.callback(\n","    Output(component_id='success-pie-chart', component_property='figure'),\n","    Input(component_id='site-dropdown', component_property='value')\n",")\n","def update_pie(selected_site):\n","\n","    if selected_site == 'ALL':\n","        fig = px.pie(\n","            spacex_df,\n","            names='Launch Site',\n","            values='class',\n","            title='Total Success Launches by Site'\n","        )\n","        return fig\n","\n","    else:\n","        filtered_df = spacex_df[spacex_df['Launch Site'] == selected_site]\n","        counts = filtered_df['class'].value_counts().reset_index()\n","        counts.columns = ['class', 'count']\n","        fig = px.pie(\n","            counts,\n","            names='class',\n","            values='count',\n","            title=f\"Success vs Failure for site: {selected_site}\"\n","        )\n","        return fig\n","\n","# ---------------------------------------------------------\n","# TASK 4: Add callback for scatter chart\n","# ---------------------------------------------------------\n","@app.callback(\n","    Output(component_id='success-payload-scatter-chart', component_property='figure'),\n","    [\n","        Input(component_id='site-dropdown', component_property='value'),\n","        Input(component_id='payload-slider', component_property='value')\n","    ]\n",")\n","def update_scatter(selected_site, payload_range):\n","\n","    low, high = payload_range\n","\n","    df = spacex_df[(spacex_df['Payload Mass (kg)'] >= low) &\n","                   (spacex_df['Payload Mass (kg)'] <= high)]\n","\n","    if selected_site != 'ALL':\n","        df = df[df['Launch Site'] == selected_site]\n","\n","    fig = px.scatter(\n","        df,\n","        x='Payload Mass (kg)',\n","        y='class',\n","        color='Booster Version Category',\n","        title='Correlation between Payload and Success'\n","    )\n","    return fig\n","\n","\n","# Run the application\n","if __name__ == '__main__':\n","    app.run()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"_ImnJED4vWVW","executionInfo":{"status":"ok","timestamp":1763618878685,"user_tz":-330,"elapsed":2212022,"user":{"displayName":"Swapnil Desai","userId":"13490893000503277770"}},"outputId":"800a5575-4181-4ab4-cb7f-9f45f0325e92"},"execution_count":18,"outputs":[{"output_type":"stream","name":"stdout","text":["Dash is running on http://127.0.0.1:8050/\n","\n"]},{"output_type":"stream","name":"stderr","text":["INFO:dash.dash:Dash is running on http://127.0.0.1:8050/\n","\n"]},{"output_type":"stream","name":"stdout","text":[" * Serving Flask app '__main__'\n"," * Debug mode: off\n"]}]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyMRlTYGkA+eCIO0l1Y+KPoi"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}